{
    "type": "object",
    "properties":
    {
      "image": {
        "type": "object",
        "properties": {
        "img_size_pixel": {
          "type": "integer",
          "default": 256,
          "minimum": 1
        },
        "resolution": {
          "type": "number",
          "default": 0.2,
          "minimum": 0.0001
        },
        "margin": {
          "type": "integer",
          "default": 30,
          "minimum": 1
        }
        },
        "default": {
          "img_size_pixel": 256,
          "resolution": 0.2,
          "margin": 30
        }
      },
      "zone": {
        "type": "object",
        "properties": {
          "sources": {
            "type": "object",
            "properties": {}},
          "extent":  {
            "type": ["string", "object"]
          },
          "out_dalle_size": {
            "type": "integer"
          },
          "tile_factor": {"type": "integer", "default": 4, "minimum": 1},
          "margin_zone": {"type": "integer"}
        },
        "required": ["sources", "extent"]
      },
      "dataset": {"type": "string"},
      "model": {
        "type": "object",
        "properties": {
          "model_name": {"type": "string"},
          "file_name": {"type": "string"},
          "image_bands": {"type": "array"}
        },
        "required": ["model_name", "file_name"]
      },
      "detect_param": {
        "type": "object",
        "properties":
        {
           "batch_size": {
             "type": "integer",
             "minimum": 1,
             "default": 1},
           "use_gpu": {
               "type": "boolean",
               "default": true},
           "booster": {
               "type": "boolean",
               "default": true
           },
          "interruption_recovery":
          {
            "type": "boolean",
            "default": true
          }
        },
        "default": {
          "batch_size": 1,
          "use_gpu": true,
          "booster": true,
          "interruption_recovery": true
        }
      },
      "output_param": {
        "type": "object",
        "properties":
        {
           "output_path": {
             "type": "string"
           },
           "output_type": {
             "type": "string",
             "enum": ["bit", "int8", "float32"],
             "default": "int8"
           },
           "export_input": {
             "type": "boolean",
             "default": false
           },
           "sparse_mode": {
             "type": "boolean",
             "default": false
           },
           "threshold": {
             "type": "number",
             "default": 0.5
           }
        },
        "required": ["output_path", "output_type"]
      }

    },
  "required": ["model", "output_param", "detect_param", "image"],
  "oneOf": [{
                "required": [
                    "zone"
                ]
            }, {
                "required": [
                    "dataset"
                ]
            }]
}

